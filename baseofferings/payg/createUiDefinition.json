{
     "handler": "Microsoft.Compute.MultiVm",
     "version": "0.1.2-preview",
     "parameters": {
          "basics": [
          ],
          "steps": [
               {
                    "name": "infrastructureSettings",
                    "label": "Infrastructure Settings",
                    "subLabel": {
                         "preValidation": "Configure basic settings",
                         "postValidation": "Done"
                    },
                    "bladeTitle": "Infrastructure Settings",
                    "elements": [
                         {
                              "name": "solutionDeploymentName",
                              "type": "Microsoft.Common.TextBox",
                         },                         
                         {
                              "name": "vmDiskType",
                              "type": "Microsoft.Common.DropDown",
                         },
                         {
                              "name": "adminUsername",
                              "type": "Microsoft.Compute.UserNameTextBox",
                         },
                         {
                              "name": "authenticationType",
                              "type": "Microsoft.Compute.CredentialsCombo",
                         }
                    ]
               },
               {
                    "name": "virtualMachineSize",
                    "label": "Size",
                    "subLabel": {
                         "preValidation": "Choose virtual machine size",
                         "postValidation": "Done"
                    },
                    "bladeTitle": "Choose a size",
                    "elements": [
                         {
                              "name": "instanceType",
                              "type": "Microsoft.Compute.SizeSelector",
                         }
                    ]
               },
               {
                    "name": "virtualMachineSettings",
                    "label": "Settings",
                    "subLabel": {
                         "preValidation": "Configure optional features",
                         "postValidation": "Done"
                    },
                    "bladeTitle": "Settings",
                    {
                         "name": "storageSection",
                         "type": "Microsoft.Common.Section",
                         "label": "Storage",
                         "elements": [
                              {
                                   "name": "managedDisks",
                                   "type": "Microsoft.Common.OptionsGroup",
                              },
                              {
                                   "name": "storageAccount",
                                   "type": "Microsoft.Storage.StorageAccountSelector",
                              }                      
                         ],
                         "visible": true
                    },
                    {
                         "name": "networkSection",
                         "type": "Microsoft.Common.Section",
                         "label": "Network",
                         "elements": [                             
                              {
                                   "name": "virtualNetwork",
                                   "type": "Microsoft.Network.VirtualNetworkCombo",
                              },
                              {
                                   "name": "publicIpAddress",
                                   "type": "Microsoft.Network.PublicIpAddressCombo",
                              },
                              {
                                   "name": "networkSecurityGroup",
                                   "type": "Microsoft.Common.TextBox",
                              }                     
                         ],
                         "visible": true
                    },
                    {
                         "name": "monitoringSection",
                         "type": "Microsoft.Common.Section",
                         "label": "Monitoring",
                         "elements": [                            
                              {
                                   "name": "bootDiagnostics",
                                   "type": "Microsoft.Common.OptionsGroup",
                              },
                              {
                                   "name": "linuxDiagnostics",
                                   "type": "Microsoft.Common.OptionsGroup",
                              },
                              {
                                   "name": "diagnosticsStorageAccount",
                                   "type": "Microsoft.Storage.StorageAccountSelector",
                              } 
                         ],
                         "visible": true
                    }
               }
          ],
          "outputs": {
               "location": "[location()]"
          }
     }
}